# Google Drive Service Account Setup for DVC

Since Google is blocking the default OAuth app, we need to use a service account instead.

## Step 1: Create a Google Cloud Service Account

1. Go to [Google Cloud Console](https://console.cloud.google.com/)
2. Create a new project (or select an existing one)
3. Navigate to **IAM & Admin** > **Service Accounts**
4. Click **Create Service Account**
5. Fill in:
   - **Service account name**: `dvc-storage` (or any name you prefer)
   - **Service account ID**: Will be auto-generated
   - Click **Create and Continue**
6. Skip the optional steps and click **Done**

## Step 2: Create and Download Service Account Key

1. Click on the service account you just created
2. Go to the **Keys** tab
3. Click **Add Key** > **Create new key**
4. Select **JSON** format
5. Click **Create** - this will download a JSON key file
6. **Save this file securely** - you'll need it for DVC

## Step 3: Share Google Drive Folder with Service Account

1. Open the downloaded JSON file
2. Find the `client_email` field (looks like: `dvc-storage@your-project.iam.gserviceaccount.com`)
3. Copy this email address
4. Go to your Google Drive folder: https://drive.google.com/drive/u/2/folders/1vghUT_qDPlR_MLbzvM6IzGXYI6oyz6T9
5. Click the **Share** button
6. Paste the service account email address
7. Give it **Editor** permissions
8. Click **Send** (you can uncheck "Notify people" if you want)

## Step 4: Configure DVC to Use Service Account

Once you have the JSON key file, run:

```bash
cd /home/ivett/Documents/code/MLOPs/itu-sdse-project_testing/notebooks
dvc remote modify gdrive --local gdrive_use_service_account true
dvc remote modify gdrive --local gdrive_service_account_json_file_path /path/to/your/service-account-key.json
```

Replace `/path/to/your/service-account-key.json` with the actual path to your downloaded JSON file.

**Security Note**: Consider storing the JSON file in a secure location outside your repository, or add it to `.gitignore` if you store it in the project directory.

## Step 5: Test the Configuration

```bash
dvc push
```

This should now work without browser authentication!

